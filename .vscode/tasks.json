// Reference:
// - https://code.visualstudio.com/docs/debugtest/tasks
{
    // For more information, visit: https://go.microsoft.com/fwlink/?LinkId=733558
    "version": "2.0.0",
    "tasks": [

        // Backend tasks
        {
            "type": "shell",                                    // The command to execute is interpreted as a shell command and launched on the configured shell (bash, cmd, PowerShell, zsh...)
            "label": "C: make build",                           // The task label
            "command": "make",                                  // The actual command to execute
            "args": ["all"],                                    // Args of the command to execute
            "options": {                                        // Override the defaults for "cwd", "env", or "shell"
                "cwd": "${workspaceFolder}/source-code/backend"     // Sets the working directory of the command to execute
            }, 
            "problemMatcher": [                                 // Defines which informations will be shown in the VSCode's "Problems" panel
                "$gcc"                                              // Uses the gcc predefined problem matcher
            ], 
            "group": {                                          // Defines to which group the task belongs. Will be executed by running "Run <KIND_VALUE> Tasks from the VSCode's Command Palette
                "kind": "build",
                "isDefault": true
            }
        },

        // Frontend tasks
        {
            "type": "npm",
            "script": "start:docker",
            "label": "npm: start:docker",
            "options": {
                "cwd": "${workspaceFolder}/source-code/frontend"
            },
            "isBackground": true,
            "problemMatcher": {
                "owner": "typescript",
                "pattern": "$tsc",
                "background": {
                "activeOnStart": true,
                "beginsPattern": { "regexp": ".*" },
                "endsPattern": { "regexp": "Application bundle generation complete\\.|bundle generation complete\\." }
                }
            }
            }
    ]
}